<div class="scrollable-screen">
  <div id="settings" class="scrollable-screen">
    <form id="settingsForm" #settingsForm="ngForm" (ngSubmit)="submitSettings(settingsForm.form)">
      <div class="form-group mb-3">
        <label for="inputOpenmsxPath" class="form-label">{{ 'settings.openmsxpath' | translate }}</label>
        <div class="input-group">
          <input type="text" class="form-control form-control-sm w-25" name="openmsx-path" [(ngModel)]="openmsxPath"
            placement="bottom" [ngbTooltip]="'settings.openmsxpathtooltip' | translate" />
          <app-file-system-chooser [directoryMode]="true" [label]="'common.browse' | translate"
            (chosen)="updateControl('openmsx-path', $event)">
          </app-file-system-chooser>
        </div>
      </div>

      <div class="form-group mb-3">
        <label for="inputScreenshotsPath" class="form-label">{{ 'settings.screenshotspath' | translate }}</label>
        <div class="input-group">
          <input type="text" class="form-control form-control-sm w-25" name="screenshots-path"
            [(ngModel)]="screenshotsPath" placement="bottom"
            [ngbTooltip]="'settings.screenshotspathtooltip' | translate" />
          <app-file-system-chooser [directoryMode]="true" [label]="'common.browse' | translate"
            (chosen)="updateControl('screenshots-path', $event)">
          </app-file-system-chooser>
        </div>
      </div>

      <div class="form-group mb-3">
        <label for="inputGameMusicPath" class="form-label">{{ 'settings.gamemusicpath' | translate }}</label>
        <div class="input-group">
          <input type="text" class="form-control form-control-sm w-25" name="game-music-path" [(ngModel)]="gameMusicPath"
            placement="bottom" [ngbTooltip]="'settings.gamemusicpathtooltip' | translate" />
          <app-file-system-chooser [directoryMode]="true" [label]="'common.browse' | translate"
            (chosen)="updateControl('game-music-path', $event)">
          </app-file-system-chooser>
        </div>
      </div>

      <div class="header">{{ 'settings.otheroptionalemulators' | translate }}</div>
      <hr>

      <div class="form-group mb-3">
        <label for="inputWebMSXPath" class="form-label">{{ 'settings.webmsxpath' | translate }}</label>
        <div class="input-group">
          <input type="text" class="form-control form-control-sm w-25" name="webmsx-path" [(ngModel)]="webmsxPath"
            placement="bottom" [ngbTooltip]="'settings.webmsxpathtooltip' | translate" />
          <app-file-system-chooser [directoryMode]=true [label]="'common.browse' | translate"
            (chosen)="updateControl('webmsx-path', $event)">
          </app-file-system-chooser>
        </div>
      </div>

      <div class="form-group mb-3" *ngIf="isOnWindows()">
        <label for="inputBlueMSXPath" class="form-label">{{ 'settings.bluemsxpath' | translate }}</label>
        <div class="input-group">
          <input type="text" class="form-control form-control-sm w-25" name="bluemsx-path" [(ngModel)]="bluemsxPath"
            placement="bottom" [ngbTooltip]="'settings.bluemsxpathtooltip' | translate" />
          <app-file-system-chooser [directoryMode]=true [label]="'common.browse' | translate"
            (chosen)="updateControl('bluemsx-path', $event)">
          </app-file-system-chooser>
        </div>
      </div>

      <div class="form-group mb-3" *ngIf="isOnWindows()">
        <label for="inputBlueMSXParams" class="form-label">{{ 'settings.bluemsxparams' | translate }}</label>
        <div class="input-group">
          <input type="text" class="form-control form-control-sm w-25" name="bluemsx-params" [(ngModel)]="bluemsxParams"
            placement="bottom" [ngbTooltip]="'settings.bluemsxparamstooltip' | translate" />
        </div>
      </div>

      <div class="header">{{ 'settings.general' | translate }}</div>
      <hr>
      <table>
        <tbody class="section">
          <tr>
            <td class="pe-2">{{ 'settings.defaultlisting' | translate }}</td>
            <td>:
              <app-drop-down [list]="listings" [selectedItem]="defaultListing"
                [defaultLabel]="'settings.selectalisting' | translate" (selection)="updateField('defaultListing', $event)"
                placement="right" [ngbTooltip]="'settings.defaultlistingtooltip' | translate" triggers="hover">
              </app-drop-down>
            </td>
          </tr>
        </tbody>
        <tbody class="section">
          <tr>
            <td class="pe-2">{{ 'settings.language' | translate }}</td>
            <td>:
              <app-drop-down [list]="languages" [listIcons]="languageIcons" [selectedItem]="language"
                [defaultLabel]="'settings.systemdefault' | translate" (selection)="updateField('language', $event)"
                placement="right" [ngbTooltip]="'settings.languagetooltip' | translate" triggers="hover">
              </app-drop-down>            
            </td>
          </tr>
        </tbody>
      </table>

      <hr>
      <button class="btn btn-primary btn-sm mt-2" [disabled]="submitDisabled">{{ 'common.save' | translate }}</button>
    </form>
  </div>
</div>